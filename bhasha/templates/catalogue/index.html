{% extends 'base.html' %}


{% block content %}


		

<a href="#FileUploadModal" role="button" class="btn" data-toggle="modal">Upload a file</a>
<br>




Total input strings are {{ catalogue|length }}

{% if languages %}

		{% for language in languages %}
			<div class="well well-small">
				<h3> <a href="/projects/{{project.id }}/languages/{{language.id }}/translations/">{{language.description}}</a> </h3>

				<div class="progress">
				  <div class="bar" style="width: {{ language.percent_complete }}%;"></div>
				</div>

				<br><br><br>
				<p> <a href="/projects/{{project.id }}/languages/{{language.id }}/download/?platform=android">strings.xml</a>  </p>
			</div>
			
		{% endfor %}
{% endif %}


<a href="#create_catalogue" role="button" class="btn" data-toggle="modal">Create a key</a>




<!-- Modal -->
<div id="FileUploadModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<form action="/projects/{{ project.id }}/languages/1/translations/" method="post" enctype="multipart/form-data">
		  <div class="modal-header">
		    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		    <h3 id="myModalLabel">File upload</h3>
		  </div>
		  <div class="modal-body">
		  		<p> Please select the type of file </p>

					{% csrf_token %}
					<select id="platform" name="platform">
					  <option value="android">Android (strings.xml file)</option>
					  <option value="ios">iOS (Localizable.strings file)</option>
					</select>
				<p> Select the Language of the file </p>
					<select id="language" name="language" >
						{% for language in languages %}
						  <option value="{{ language.id }}">{{ language.description }}</option>
					  	{% endfor %}
					</select>


					<p>{{ form.non_field_errors }}</p>
					<p>{{ form.docfile.label_tag }} {{ form.docfile.help_text }}</p>
					<p>
						{{ form.docfile.errors }}
						{{ form.docfile }}
					</p>

		  </div>
		  <div class="modal-footer">
		    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
		    <button class="btn btn-primary">Upload</button>
		  </div>
    </form>
</div>



<!-- Create a catalogue -->
<div id="create_catalogue" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="createLable" aria-hidden="true">
	<form action="/projects/{{ project.id }}/create/" method="post" enctype="multipart/form-data">
		  <div class="modal-header">
		    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
		    <h3 id="createLable">Create an entry</h3>
		  </div>
		  <div class="modal-body">
		  		<p> Please select the type of file </p>

					{% csrf_token %}
				<p> Select the Language of the file </p>
					<select id="language" name="language_id" >
						{% for language in languages %}
						  <option value="{{ language.id }}">{{ language.description }}</option>
					  	{% endfor %}
					</select>


                  <div class="control-group">
                    <label class="control-label" for="inputMsgKey">Message Key</label>
                    <div class="controls">
                      <input type="text" name="msg_key" id="inputMsgKey" value="" >
                    </div>
                  </div>
                  <div class="control-group">
                    <label class="control-label" for="inputMsgString">Message String</label>
                    <div class="controls">
                      <input type="text" name="msg_string" id="inputMsgString" value="" >
                    </div>
                  </div>

		  </div>
		  <div class="modal-footer">
		    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
		    <button class="btn btn-primary">Save</button>
		  </div>
    </form>
</div>




{% endblock %}